Plot4： 〜俺たちはサーバーとクラウドに支えられている〜
キャスト

俺（主人公。安定運用に目覚めはじめたエンジニア）

弟子（質問・ツッコミ）

ベゾス（雲から蘇ったクラウドの申し子）

幕一：サーバの基本（UPS／RAID／“止めない”の原理）
Scene 1：UPSバトル — 電源は“武器”ではなく“土台”

俺（モノローグ）
「俺に弟子もできていた。任せられる背中になりたい。
そしてある夜、静まり返ったサーバ室で赤いアラートを見て、サーバ安定の重要性に気づいたのだ。
“止めない”のは根性ではない。設計と訓練だ。」

俺「うおおッ！ 俺の最終兵器、UPSバスターーー！」

弟子「師匠ストップ！ UPSは武器じゃない、電源冗長化です！ まず置きましょう！」

俺「そうだ……“止めない”は土台を固めること。要点は3つ。
(1)二重化、(2)系統分離、(3)手順の訓練。」

弟子「師匠がまた変な技術要素に目覚めてしまった…」


技術メモ
デュアルPSU＋別系統PDU／UPS方式と切替時間／バッテリー交換周期／疑似停電訓練（Runbook）

受講者ワーク（45秒）
自分の現場の単一障害点を1つ書き出す（例：壁電源1系統、単一LB、単一DNSなど）

Scene 2：RAIDピザ — “壊れないため”ではなく“壊れても止めないため”

俺「HDDの故障にも備えねばならない。RAIDだ。ピザみたいなものだな。

RAID0＝半分同時食い：速い／片方落ちたら終了

RAID1＝同じピザ2枚：冗長／コスト×2

RAID5＝分散＋冗長情報：1枚死んでも復旧／書込ペナルティあり」

俺「現場はRAID6やRAID10が落としどころ。
そしてスローガン：“RAID≠バックアップ”。
人為的削除／暗号化マルウェア／論理破損には世代バックアップ＋オフサイトが要る。」


技術メモ

0/1/5/6/10の特性／UREとMTTR／ホットスペア／世代バックアップ（“RAIDは保険、バックアップはタイムマシン”）


（Scene2 → Scene3 ブリッジ）

俺「電源とRAIDで止めない土台はできた。…でもスパイクに瞬時追随したい時、調達の待ち時間や物理上限は避けられない。」
弟子「**“必要な時に必要なだけ”**を借りられたら、LCPスパイクにも耐えられますね。」
俺「世界が滅びる前はクラウドという便利なものもあったのだが」

幕二：クラウドの衝撃（AWS／SLA／責任分界／コスト設計）
Scene 3：雲のカプセル復活劇 — クラウドの前提から

ベゾス「This is not magic. This is AWS.」

俺「雲から…人！？まさか、AWSの創始者ジェフ・べゾスなのか…！？」

べゾス「いかにも。私の資産力をしてみれば核シェルターなど容易いものさ」

弟子「クラウドは、巨大DC群を仮想化して、
API／管理画面でオンデマンドに貸し出し、
従量課金で精算する技術ですよね」

俺「そうだな。
仮想化：1台を多人数で共有（ハイパーバイザー／コンテナ）。
リソースプール：計算・ストレージ・ネットを巨大プール化。
セルフサービス：APIで即時払い出し。
弾力性：秒〜分で増減。
従量課金：時間・容量・転送で請求。」

べゾス「我こそがAWS。IaaSなり」

弟子「IaaS…他にもPaaSとかSaaSとかありましたね」

俺「
そう、担当分野で違うんだ。
下：IaaS（VM、ブロック/オブジェクトストレージ、VPC、LB…）
中：PaaS（アプリ実行基盤、ビルド、DB運用の肩代わり）
上：SaaS（完成アプリ：メール、分析、チャット等）
下ほど自由度↑運用負担↑、上ほど自由度↓運用負担↓。」

ベゾス「
私の秘蔵のS3、可用性を侮ることなかれ。
S3の可用性は年間99.99％。
99.9/99.99/99.999%──“9”が増えるほど停止許容量は減る。
99.99%は年50分程度。つまり私は50分しか眠れぬ。」

弟子「ブラックすぎる！」

俺「SLA＝無停止保証ではない。自分たちのSLO（目標）と合算し、
アプリ側でリトライ／タイムアウト／フェイルオーバを持つのは利用者の責務。
フロントで言えば、API失敗時のUI代替や再試行ボタンを最初から設計に入れる感じだ。」

ベゾス「そして覚えておけ──“オンプレでは1週間、クラウドなら1クリック。だが請求は1秒で来る。”」

俺「だからタグ運用でプロジェクト/部門/環境を紐づけ、予算アラート、上限、権限のガードレール。
などをつけているんだったな。」

俺「ここまでがクラウドの前提。
次は、実務で入口が一番ラクなレイヤ──PaaSへ。pushしたら動く世界だ。」

技術メモ（Scene3）

仮想化／巨大プール／セルフサービス／弾力性／従量課金

Region／AZ／VPC／SG・NACL

IaaS↔PaaS↔SaaS（自由度と運用負担のトレードオフ）

Shared Responsibility（誰が何を守るか）／SLA・SLO・SLI（五つの9≒年5.26分停止）

コスト（Compute/Storage/Egress）／タグ・予算・上限・権限

受講者ワーク（Scene3）

30秒：自サービスでIaaS/PaaS/SaaSどれを使っているか


（Scene3 → Scene4 ブリッジ）

弟子「階層と責任は理解。で、一番ラクに恩恵を受ける道は？」
俺「PaaSだ。コードをpushしたらビルド〜デプロイまで面倒を見てくれる。」

Scene 4：Render（PaaS）の甘美と対価

俺「俺はAWSより便利なクラウドを知っている。PaaSの例えばRender.comだ。
pushするだけでRenderが自動ビルド／デプロイ。
環境変数、ヘルスチェック、Web/Worker/Cron/DBもおまかせ。
“面倒は任せる”のも安定運用の形だ。」

ベゾス「便利だろう？ だが抽象化には制約が伴う。
ビルド方式／起動モデル／課金単位／スリープ、ログ保持／同時接続上限──仕様を読むのだ。
そして…愚か者、その裏側もAWSのクラウドで動いている！！！」

弟子「VercelとかNetlifyとかもありましたね」

俺「“自分でやらない代わりに、プラットフォームの流儀を守る”。
守れれば再現性と変化速度が手に入る。Blue/Green、シークレットのローテ、ヘルスチェック閾値もプラットフォーム基準で決めていこう。」

技術メモ

PaaSの制約／コールドスタート／ログ保管期間／Runbook（デプロイ手順・ロールバック手順）

フロント類推：ViteやCIプリセットに“乗る”代わりに、カスタム挙動は制約を受ける



（Scene4 → Scene5 ブリッジ）

弟子「デプロイは超ラクになった。けどユーザー増の波に、DBが鈍ることも…。」
俺「そこでデータの問い方を変える。NoSQLへ行くぞ。」

幕三：スケールの壁とNoSQL（DynamoDB集中・設計・移行）
Scene 5：NoSQL導入の必然（導入セリフ指定）

俺「俺はRender.comのDBで処理をしていった。
しかし、ユーザが増えてくることにより処理が遅れ始めたのだ。
JOINの多重連鎖、行ロック、スパイク時の水平スケールの壁……
**“読める速さ／書ける速さ”**を、もう一段上げたい。」

俺「そう、NoSQL。**“最初から読まれる形で保存”**する。」

技術メモ

RDBの強み（整合／JOIN／Tx）とボトルネック化の典型（複雑JOIN／ホットテーブル／ロック競合）

受講者ワーク（60秒）

自アプリの最頻クエリTOP3→1回読みに最適化する保存形をラフスケッチ

Scene 6：DynamoDB — サメ型バイクで駆け抜ける設計

ベゾス「JOIN？ そんな悠長なことはしてられん！
設計の肝はアクセスパターン先出しだ。

PK（パーティションキー）で水平分割、SK（ソートキー）で範囲・多態を表現


俺「つまり、**“どの画面／どのAPIが何を取るか”**を先に決め、それに合わせて保存する。
RDBの“正規化の美学”とは逆。単一テーブル設計は強力だが、命名規約／監視／運用手順が命だ。」


技術メモ
クラウドにはスケーリングを実現するための特殊なデータ構造などもある


（Scene6 → Scene7 ブリッジ）

弟子「クラウドとNoSQLの強さはわかった。けど物理の矜持もある…。」
俺「どっちが正義かじゃない。状況で選ぶ力だ。」
ベゾス「AWSこそが最強！」
俺「それでも、俺は物理で生きるんだぁぁぁぁ！」

幕四：最終対決（オンプレ vs クラウド）→ FinOpsの教え
Scene 7：オンプレおじさん、覚醒（ドラゴンボール調）

俺「俺のラックは俺の城！ 物理こそが人の心を守る！
この**UPS（うなる・パワー・スピリット）**で世界を支える！」


ベゾス「クラウド・マテリアライズ！ マルチAZ、自動世代バックアップ、ピーク時の水平増殖！」

俺「ば、馬鹿な……瞬間で……！」

弟子「現実はグラデーション。
データ重力／規制でオンプレ、弾力性／実験速度でクラウド。
境界面──接続（専用線/VPN）／ID統合（SSO）／監視（共通ダッシュボード）──を設計して良いとこ取りだ。」

技術メモ

オンプレ強み（レイテンシ・主権・特殊HW・固定費）／クラウド強み（調達速度・弾力・地理分散）

ハイブリッドの設計要点（接続／ID／監視の共通化）

受講者ワーク（60秒）

自プロダクトでオンプレ優位×1／クラウド優位×1を列挙

Scene 8：課金爆死の瞬間 → FinOpsは“止める仕組み”

弟子「師匠！ オートスケール上限をガッと上げれば同時接続10万も…！」

（メーターが跳ね上がる）「請求額：¥9,999,999」

全員「ひぇえええええ！！」

俺「予算アラート／上限／環境分離（本番・検証・個人）／タグで責任部署可視化。
“増やす自由”には“止める仕組み”──これがFinOps。
定例レビューでコスト×SLOを見直し、安いけど遅い／高いけど速いの最適点を事実で決める。」

俺「……認めよう。止めない最善は、形ではなく手順と可視化に宿る。」

ベゾス「選べ、そして鍛えよ。武器ではなくRunbookで世界は守れる。」

弟子「サーバもクラウドも、適材適所が大事ですよね」