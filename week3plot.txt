【第三章「俺たちはネットワークに支えられている」――孤独ネットワーク再建計画・プロット】

――――――――――――――――――――――――――――――――――
◆要約
荒野に散らばった機器を結び、OSI参照モデルから物理層・データリンク層・ネットワーク層まで、一人で全レイヤを構築する"孤独ネットワーク再建計画"。パケットの息吹を取り戻すまでのドタバタ独り芝居第三弾。
――――――――――――――――――――――――――――――――――

◇シーン0　燃料切れリマインド
発電機が沈黙。俺「電気は確保した、でも孤立したサーバに何の意味が！？　ネットワークなくして世界復活などありえない！」と絶叫。

◇シーン1　物理層の絶望的現実
廃墟に転がるケーブルを見つめ愕然。「LANケーブル100 m制限!?　隣の建物まで300 m…延長の物理法則は俺にも勝てない！」とセルフ突っ込み。
光ファイバーを発見して狂喜乱舞。「光は減衰しない！　でも接続にはファイバー融着機が…」現実の壁に膝を突く。

◇シーン2　銅線ガチャガチャ大作戦
廃工場から銅線を回収し、手作りイーサネット。「1と0は電圧の高低！　でも電圧ノイズで化けるんだ…」とペンチで格闘。
ケーブルテスターで導通確認しながら絶叫解説――「ストレート、クロス、ツイストペア！　8本の銅線が送受信を分担、2本ずつがペアでノイズをキャンセル。物理は正直、配線間違えれば即パケットロス！」

◇シーン3　MACアドレスひとり祭り
手書きでMACアドレス一覧を作成。「48 bitの世界唯一ID！　俺の機器は俺が管理、衝突もダブりも俺次第！」とマジックで機器にMAC番号を直書き。
スイッチングハブを発見して興奮。「MACアドレステーブル！　ブロードキャストドメイン！　レイヤ2の神がここに宿る！」

◇シーン4　IPアドレス"俺帝国"建国
地図に自分だけのネットワーク構成図を描く。「192.168.1.0/24は俺の王国！　サブネットマスクで領土を区切り、デフォルトゲートウェイで外界への扉を開く！」
電卓でサブネット計算しながら実況――「/24なら256台、/25なら128台！　2のn乗でホスト数が決まる、俺は数学で帝国を治める皇帝だ！」

◇シーン5　RFC聖典発見と絶叫解読
廃墟の図書館でRFC文書を発見。「RFC 791！　Internet Protocol仕様書！　これが俺たちの聖典だ！」と埃まみれの文書を抱きしめる。
「Request for Comments...コメント求む!?　でも俺一人！　コメントは心の声だ！」と一人でRFCにツッコミを入れながら熟読。
「RFC 793のTCP仕様、RFC 2616のHTTP/1.1！　全世界のエンジニアが従う標準化文書！　俺もこの伝統に従う！」と興奮。

◇シーン6　プロトコル階層"俺様解釈"
壁に巨大なプロトコルスタック図を描く。「TCP/IP！　でも実は4層じゃない！　OSI7層の上にアプリケーション層が乗っかって、実際は無限階層だ！」
「HTTP over TCP over IP over Ethernet over 物理層！　プロトコルは入れ子構造！　俺のパケットは何重にも包まれた玉ねぎだ！」と実況。
各層のヘッダーを手書きしながら絶叫――「送信時は上から下へヘッダー追加、受信時は下から上へヘッダー剥がし！　カプセル化とデカプセル化、俺が全部やる！」

◇シーン7　プロトコル"俺様実装"
「俺がプロトコルを作る！　俺俺プロトコル(OOP: Ore-Ore Protocol)！」と独自プロトコルを設計。
「俺俺ヘッダー：[俺ID][俺タイムスタンプ][俺データ長][俺チェックサム]！　俺のパケットは俺が決める！」
でも既存プロトコルとの互換性がないことに気づき「...やっぱり標準に従おう」と標準プロトコルの偉大さを実感。

◇シーン8　ルーティングテーブル手書き地獄
「パケットはどこへ行く？　宛先IPを見て、ルーティングテーブルで経路決定！」と壁に巨大なルーティングテーブルを描く。
静的ルーティングを手動設定しながら絶叫――「Next Hop！　Metric！　最適経路を俺が決める！　動的ルーティングなどない、俺がプロトコルだ！」

◇シーン9　DHCPサーバ"俺様仕様"
「IPアドレスの自動配布！　俺がDHCPサーバだ！」と手作りDHCPサーバを構築。
設定ファイルを書きながら独り言――「リース期間24時間、俺の機器は俺が管理！　DHCP Discover → Offer → Request → Acknowledge、4-way handshakeで完璧だ！」

◇シーン10　DNSサーバ"俺専用"
「名前解決は俺の仕事！　www.俺.com = 192.168.1.1！」と手作りDNSサーバを立ち上げ。
hostsファイルを手書きしながら実況――「ドメイン名とIPアドレスの対応表！　俺が神の電話帳を作る！　正引き、逆引き、俺が全部やる！」

◇シーン11　pingの孤独な対話
「ping 192.168.1.2」でパケットを送信。「ICMP Echo Request！　返事来い！」と画面を見つめ、Reply受信で歓喜。
「TTL 64、時間 1ms！　俺のパケットは生きている！　これが通信の証明だ！」とガッツポーズ。

◇シーン12　TCPコネクション"俺との握手"
「3-way handshake！　SYN → SYN-ACK → ACK！　俺とサーバが握手する瞬間だ！」とパケットキャプチャを眺めて興奮。
Wiresharkで解析しながら絶叫解説――「シーケンス番号！　ACK番号！　ウィンドウサイズ！　TCPは信頼性の塊、俺のデータは絶対届く！」

◇シーン13　HTTP"俺様Web"公開
「GET / HTTP/1.1」でWebページを表示。「200 OK！　俺のHTTPサーバが応答した！」と自作Webページを眺めて感動。
「HTML、CSS、JavaScript！　俺の世界がブラウザに表示される！　これがWorld Wide Web、俺の世界だ！」

◇シーン14　孤独のファイアウォール
「俺の王国を守るのは俺！　iptablesで全ポートを制御！」とファイアウォールルールを手書き。
「ACCEPT、DROP、REJECT！　俺が決めるパケットの運命！　80番ポートは開放、22番は俺だけ！」

◇シーン15　ネットワーク帝国完成式
全機器のLEDが点滅する様子を眺めながら感動。「OSI参照モデル7層、俺が全部構築した！　物理層から応用層まで、俺の王国は完成だ！」
「でも…」と空を見上げる。「この王国に住民は俺だけ。通信相手がいない王国に意味はあるのか？」

◇シーン16　孤独エンドから希望へ
夕陽に向かい独白。「ネットワークは繋がりだ。俺一人では意味がない。でも俺が作ったこのインフラは、いつか誰かと繋がるための準備だ」
地面に棒切れで大書きした次章タイトルをズーム。

――――――――――――――――――――――――――――――――――
◆次章予告
第四章「俺たちはプログラムに支えられている」
ネットワークは繋がった。次はソフトウェアの魂を吹き込む時だ――。
――――――――――――――――――――――――――――――――――